<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>X-Wing Beginner's Guide</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Welcome Screen -->
    <div id="welcome-screen" class="screen active">
        <div class="welcome-container">
            <div class="logo-container">
                <div class="x-wing-logo">X-WING</div>
                <div class="subtitle">Interactive Beginner's Guide</div>
            </div>

            <div class="welcome-content">
                <p class="welcome-text">Welcome, Pilot! This guide will walk you through your first X-Wing game step by step.</p>

                <div class="feature-cards">
                    <div class="feature-card">
                        <div class="feature-icon">üéØ</div>
                        <div class="feature-title">Step-by-Step</div>
                        <div class="feature-desc">Guided walkthrough of each phase</div>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üé≤</div>
                        <div class="feature-title">Dice Roller</div>
                        <div class="feature-desc">Built-in attack & defense dice</div>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üìñ</div>
                        <div class="feature-title">Rules Reference</div>
                        <div class="feature-desc">Quick access to all rules</div>
                    </div>
                </div>

                <button class="btn btn-primary btn-large" onclick="app.startGuide()">
                    <span class="btn-icon">üöÄ</span>
                    Start Learning
                </button>

                <button class="btn btn-secondary" onclick="app.showRulesFromWelcome()">
                    <span class="btn-icon">üìö</span>
                    View Rules Reference
                </button>
            </div>
        </div>
    </div>

    <!-- Main Game Screen -->
    <div id="game-screen" class="screen">
        <header class="game-header">
            <div class="header-left">
                <button class="btn btn-icon-only" onclick="app.goToWelcome()" title="Back to Start">
                    <span>üè†</span>
                </button>
                <div class="round-indicator">
                    <span class="round-label">Round</span>
                    <span class="round-number" id="round-number">1</span>
                </div>
            </div>
            <div class="header-center">
                <h1 class="current-phase-title" id="current-phase-title">Planning Phase</h1>
            </div>
            <div class="header-right">
                <button class="btn btn-icon-only" onclick="app.showDiceRoller()" title="Dice Roller">
                    <span>üé≤</span>
                </button>
                <button class="btn btn-icon-only" onclick="app.showRules()" title="Rules Reference">
                    <span>üìñ</span>
                </button>
            </div>
        </header>

        <!-- Phase Progress Bar -->
        <div class="phase-tracker">
            <div class="phase-item" data-phase="0">
                <div class="phase-icon">üìã</div>
                <div class="phase-name">Planning</div>
            </div>
            <div class="phase-connector"></div>
            <div class="phase-item" data-phase="1">
                <div class="phase-icon">‚öôÔ∏è</div>
                <div class="phase-name">System</div>
            </div>
            <div class="phase-connector"></div>
            <div class="phase-item" data-phase="2">
                <div class="phase-icon">‚úàÔ∏è</div>
                <div class="phase-name">Activation</div>
            </div>
            <div class="phase-connector"></div>
            <div class="phase-item" data-phase="3">
                <div class="phase-icon">üí•</div>
                <div class="phase-name">Engagement</div>
            </div>
            <div class="phase-connector"></div>
            <div class="phase-item" data-phase="4">
                <div class="phase-icon">üîÑ</div>
                <div class="phase-name">End</div>
            </div>
        </div>

        <!-- Main Content Area -->
        <main class="main-content">
            <!-- Step-by-Step Walkthrough -->
            <div class="walkthrough-container">
                <div class="step-card" id="step-card">
                    <div class="step-header">
                        <div class="step-number" id="step-number">Step 1</div>
                        <div class="step-title" id="step-title">Set Your Maneuver Dials</div>
                    </div>
                    <div class="step-content" id="step-content">
                        <!-- Dynamic content loaded here -->
                    </div>
                    <div class="step-tips" id="step-tips">
                        <!-- Tips loaded here -->
                    </div>
                </div>

                <!-- Navigation -->
                <div class="step-navigation">
                    <button class="btn btn-nav" id="btn-prev" onclick="app.previousStep()">
                        <span class="nav-icon">‚óÄ</span>
                        <span class="nav-text">Previous</span>
                    </button>
                    <div class="step-progress">
                        <div class="progress-dots" id="progress-dots">
                            <!-- Dots generated dynamically -->
                        </div>
                    </div>
                    <button class="btn btn-nav btn-primary" id="btn-next" onclick="app.nextStep()">
                        <span class="nav-text">Next</span>
                        <span class="nav-icon">‚ñ∂</span>
                    </button>
                </div>
            </div>

            <!-- Quick Actions Sidebar -->
            <aside class="quick-actions">
                <h3 class="sidebar-title">Quick Tools</h3>

                <button class="tool-btn" onclick="app.showDiceRoller()">
                    <div class="tool-icon">
                        <div class="dice-preview attack">
                            <span class="dice-face">üí•</span>
                        </div>
                        <div class="dice-preview defense">
                            <span class="dice-face">üõ°Ô∏è</span>
                        </div>
                    </div>
                    <span class="tool-label">Roll Dice</span>
                </button>

                <button class="tool-btn" onclick="app.showManeuverGuide()">
                    <div class="tool-icon maneuver-colors">
                        <span class="color-dot blue"></span>
                        <span class="color-dot white"></span>
                        <span class="color-dot red"></span>
                    </div>
                    <span class="tool-label">Maneuver Colors</span>
                </button>

                <button class="tool-btn" onclick="app.showTokenGuide()">
                    <div class="tool-icon token-icons">
                        <span class="token focus">‚óè</span>
                        <span class="token evade">‚óÜ</span>
                    </div>
                    <span class="tool-label">Token Guide</span>
                </button>

                <button class="tool-btn" onclick="app.showRangeGuide()">
                    <div class="tool-icon range-icon">
                        <span class="range-bar"></span>
                    </div>
                    <span class="tool-label">Range & Combat</span>
                </button>
            </aside>
        </main>
    </div>

    <!-- Rules Reference Screen -->
    <div id="rules-screen" class="screen">
        <header class="rules-header">
            <button class="btn btn-icon-only" onclick="app.closeRules()" title="Back">
                <span>‚Üê</span>
            </button>
            <h1>Rules Reference</h1>
            <div class="search-container">
                <input type="text" id="rules-search" placeholder="Search rules..." oninput="app.searchRules(this.value)">
            </div>
        </header>

        <div class="rules-container">
            <nav class="rules-nav" id="rules-nav">
                <!-- Generated dynamically -->
            </nav>
            <main class="rules-content" id="rules-content">
                <!-- Content loaded dynamically -->
            </main>
        </div>
    </div>

    <!-- Modal Overlay -->
    <div class="modal-overlay" id="modal-overlay" onclick="app.closeModal()">
        <div class="modal-content" id="modal-content" onclick="event.stopPropagation()">
            <button class="modal-close" onclick="app.closeModal()">√ó</button>
            <div class="modal-body" id="modal-body">
                <!-- Dynamic content -->
            </div>
        </div>
    </div>

    <!-- Dice Roller Modal -->
    <div class="dice-modal" id="dice-modal">
        <div class="dice-modal-content">
            <button class="modal-close" onclick="app.closeDiceRoller()">√ó</button>
            <h2 class="dice-title">Dice Roller</h2>

            <div class="dice-section">
                <div class="dice-type attack-dice">
                    <h3><span class="dice-icon attack">üî¥</span> Attack Dice</h3>
                    <div class="dice-controls">
                        <button class="dice-count-btn" onclick="app.adjustDice('attack', -1)">‚àí</button>
                        <span class="dice-count" id="attack-count">3</span>
                        <button class="dice-count-btn" onclick="app.adjustDice('attack', 1)">+</button>
                    </div>
                    <button class="btn btn-attack" onclick="app.rollAttack()">Roll Attack</button>
                    <div class="dice-results" id="attack-results"></div>
                </div>

                <div class="dice-type defense-dice">
                    <h3><span class="dice-icon defense">üü¢</span> Defense Dice</h3>
                    <div class="dice-controls">
                        <button class="dice-count-btn" onclick="app.adjustDice('defense', -1)">‚àí</button>
                        <span class="dice-count" id="defense-count">2</span>
                        <button class="dice-count-btn" onclick="app.adjustDice('defense', 1)">+</button>
                    </div>
                    <button class="btn btn-defense" onclick="app.rollDefense()">Roll Defense</button>
                    <div class="dice-results" id="defense-results"></div>
                </div>
            </div>

            <div class="dice-legend">
                <h4>Dice Faces</h4>
                <div class="legend-grid">
                    <div class="legend-item">
                        <span class="die attack hit">üí•</span>
                        <span>Hit</span>
                    </div>
                    <div class="legend-item">
                        <span class="die attack crit">‚ò†Ô∏è</span>
                        <span>Critical</span>
                    </div>
                    <div class="legend-item">
                        <span class="die attack focus">üëÅÔ∏è</span>
                        <span>Focus</span>
                    </div>
                    <div class="legend-item">
                        <span class="die attack blank">‚óã</span>
                        <span>Blank</span>
                    </div>
                    <div class="legend-item">
                        <span class="die defense evade">üõ°Ô∏è</span>
                        <span>Evade</span>
                    </div>
                    <div class="legend-item">
                        <span class="die defense focus">üëÅÔ∏è</span>
                        <span>Focus</span>
                    </div>
                    <div class="legend-item">
                        <span class="die defense blank">‚óã</span>
                        <span>Blank</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="gameData.js"></script>
    <script src="gameLogic.js"></script>
    <script src="uiController.js"></script>
    <script src="app.js"></script>
</body>
</html>
